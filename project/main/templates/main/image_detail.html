{% extends "base.html" %}
{% load extra_filters %}

{% block title %}image {{ image.title }}{% endblock %}

{% block content %}
{% if image.visual_attrs %}
<script type="text/javascript">
var image_data = {{ image.visual_attrs|safe }};
</script>
{% endif %}

<h1>Details of image {{ image.title }}</h1>
<div class="row">
    <div class="col-8">
        <a href="{% url 'view_image' image.id %}" class="">
        <img class="img-fluid img-thumbnail" alt="{{ image.title }}" src="{{ image.image.url }}">
        </a>
        <ul>
            <li>created at: {{ image.created_at }}</li>
            <li>updated at: {{ image.updated_at }}</li>
        </ul>
    </div>
    <div class="col-4">
    {% if not image.visual_attrs %}
        <p>No data from Google Visual</p>
    {% else %}

    {% endif %}
    <a href="{% url 'fetch_data_image' image.id %}"><button type="submit" class="btn btn-primary">Fetch data?</button></a>
    </div>
</div>
{% endblock %}